<!-- <section class="my-posts">
  <div class="my-posts-container">

  
  <h1>My Posts</h1>
  <p>
    User connected: <span>{{ currentUser.user_full_name }}</span>
  </p>
  
  <section class="cards-container">
    <div class="card" *ngFor="let apartment of userPosts.slice(0, postsToShow)">
    <div class="card-details">
      <div class="card-img">
        <img [src]="apartment.apartment_pic_1" alt="Apartment Image" />
      </div>
      <div class="card-info">
        <h2> {{ apartment.post_city }} , {{ apartment.post_street }}</h2>

        <p>{{"post_details_page_building_txt"| translate}}: {{ apartment.post_building_number }}</p>
        <p>{{"my_post_card_apartment_number_txt"| translate}}: {{ apartment.post_apartment_number }}</p>
        <div class="custom-chip approval" *ngIf="apartment.proof_image_confirmed">
          {{"my_post_card_approved_txt"| translate}} <mat-icon>done</mat-icon>
        </div>
        
        <div class="custom-chip pending" *ngIf="!apartment.proof_image_confirmed">
          {{"my_post_card_pending_txt"| translate}} <mat-icon>schedule</mat-icon>
        </div>
      </div>
    </div>
  
    
    
    <div class="card-btn">
      <button
      (click)="viewApartmentDetails(apartment.post_id)"
      class="btn details"
      >
      {{"my_post_card_more_details_btn"| translate}}
      </button>
      <button
      (click)="deletePost(apartment.post_id, currentUser.user_id)"
      class="btn delet"
      >
      {{"my_post_card_delete_btn"| translate}}
    </button>
    <button
    (click)="editApartmentDetails(apartment.post_id)"
    class="btn comment"
    >
    {{"my_post_card_edit_review_btn"| translate}}
  </button>
</div>
</div>
</section>

<button *ngIf="postsToShow < userPosts.length" (click)="loadMorePosts()" class="btn load-more">
  Load More
</button>

</div>
</section>
<app-nav-bar *ngIf="this.windowWidth <= 567  && isAuthenticated"></app-nav-bar> -->

<section class="my-posts-container">
  <div class="my-posts-contact">
    <p class="title">הדירות שלי</p>

    <!-- <section class="cards-container" *ngIf="userPosts">
      <div
        class="card"
        *ngFor="let apartment of userPosts.slice(0, postsToShow)"
        
      >
        <div (click)="editApartmentDetails(apartment.post_id)" class="card-img">
          <img [src]="apartment.apartment_pic_1" alt="Apartment Image" />
        </div>

        <div (click)="editApartmentDetails(apartment.post_id)" class="card-details">
          <p class="text">{{ apartment.post_city }}</p>
          <p class="small-text">
            {{ apartment.post_street }} {{ apartment.post_building_number }} ,דירה
            {{ apartment.post_apartment_number }}
          </p>
        </div>


          <div class="card-actions">
            <div
              class="custom-chip approval"
              *ngIf="apartment.proof_image_confirmed"
            >
              <img src="../../../assets/icons/confirm.png" alt="">
            </div>

            <div
              class="custom-chip pending"
              *ngIf="!apartment.proof_image_confirmed"
            >
              <img src="../../../assets/icons/panding.png" alt="">
            </div>

            <button
              (click)="deletePost(apartment.post_id, currentUser.user_id)"
            >
            <img src="../../../assets/icons/delete.png" alt="">
            </button>
          </div>

      </div>

      <div *ngIf="userPosts.length === 0" class="no-apartments-message">
        אין לך דירות פרסום כרגע
      </div>

    </section> -->
    


    <section class="cards-container" *ngIf="isApartmentsReady">
      <ng-container *ngIf="userPosts.length > 0; else noApartments">
        <div class="card" *ngFor="let apartment of userPosts.slice(0, postsToShow)">
          <div (click)="editApartmentDetails(apartment.post_id)" class="card-img">
            <img [src]="apartment.apartment_pic_1" alt="Apartment Image" />
          </div>
  
          <div (click)="editApartmentDetails(apartment.post_id)" class="card-details">
            <p class="text">{{ apartment.post_city }}</p>
            <p class="small-text">
              {{ apartment.post_street }} {{ apartment.post_building_number }} ,דירה
              {{ apartment.post_apartment_number }}
            </p>
          </div>
  
  
            <div class="card-actions">
              <div
                class="custom-chip approval"
                *ngIf="apartment.proof_image_confirmed"
              >
                <img src="../../../assets/icons/confirm.png" alt="">
              </div>
  
              <div
                class="custom-chip pending"
                *ngIf="!apartment.proof_image_confirmed"
              >
                <img src="../../../assets/icons/panding.png" alt="">
              </div>
  
              <button
                (click)="deletePost(apartment.post_id, currentUser.user_id)"
              >
              <img src="../../../assets/icons/delete.png" alt="">
              </button>
            </div>
        </div>
      </ng-container>
    
      <ng-template #noApartments >
        <div class="no-apartments-message">
         <p>עדיין לא שיתפת את החוויה שלך ?</p>
         <p>תוסיף את החויה שלך ותוכל לחזור ולראות בעמוד זה את כל השיתופים שלך.</p>
         <a routerLink="/rantal">להוספת חוויה<div class=""></div></a>
        </div>
      </ng-template>
    </section>
    

    <section *ngIf="!isApartmentsReady">
      <div class="no-apartments-message">
        <p>טוען את הדירות והחוויות  ששיתפת ...</p>
       </div>
    </section>




    <button
      *ngIf="postsToShow < userPosts.length"
      (click)="loadMorePosts()"
      class="load-more"
    >
      טען עוד
    </button>
    <app-nav-bar
    ></app-nav-bar>
  </div>

  <app-modal
  [needAprove]="this.needApproval"
  [aprovelText]="this.aprovelText"
  [img]="this.modalImg"
  [text]="this.modalText"
  [serverResponse]="this.serverResponse"
  [(isHid)]="isHidden"
  (isHidChange)="onModalClosed($event)"
  (isApproved)="onAprovel($event)"
></app-modal>

</section>
